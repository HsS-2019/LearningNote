# 常用开发技巧

### 调试

#### 打印线程堆栈信息

Swift

```swift
{
  Thread.callStackSymbols.forEach { print($0)}
}        
```

Objective-C

```objc
{
  NSLog(@"%@", [NSThread callStackSymbols]);
}
```

#### 查看视图层次

#### 查看内存引用

#### 断点打印信息

#### 检查方法耗时

#### 服务器接口调试

#### Swift Package Manager 的使用

#### 重构一段代码

重构代码的目的是为了使代码逻辑清晰、结构分明，为项目后续的更改和维护节省大量时间。其实，我觉得不只是时间效率上的问题，简洁而清晰的代码是具有美感的，欣赏美或者是创造美的事物，都会让人心情愉悦。

##### 准则

我们应该明白这样一个事实：在一个方法中，随着代码行数的增加和相关逻辑复杂性的增加，我们在这个方法中理解、查找和修改对应逻辑所需花费的时间也就越多。因为上下文的范围过大，涉及的内容过多。

* 逻辑清晰：一个方法尽量不要超过40行，除非是重复地做单一的类似事情。

* 结构分明，抽象层次一致：本来在处理顶层的逻辑，不能接着直接就去处理下一层的细节，抽象层次的不一致会增加理解难度。

##### 措施

简化依赖： 尽量避免在方法中使用间接依赖。例如如果我们需要的只是UIView的origin坐标，而不需要其它信息，那么就可以通过封装属性和直接把坐标信息当作方法参数传进来等方法，具体的方法应视具体场景选择。

单一职责原则：一个方法只做一件事，顶层方法应该负责调度，而不应该包括细节的实现。



